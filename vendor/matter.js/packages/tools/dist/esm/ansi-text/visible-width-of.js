/**
 * @license
 * Copyright 2022-2025 Matter.js Authors
 * SPDX-License-Identifier: Apache-2.0
 */
function visibleWidthOf(str) {
  let width = 0;
  for (let i = 0; i < str.length; i++) {
    const charCode = str.charCodeAt(i);
    switch (charCode) {
      case 8203:
      // zwsp
      case 8204:
      // zero width non-joiner
      case 8205:
      // zero width joiner
      case 8288:
      // word joiner
      case 65279:
        continue;
    }
    width++;
    if (charCode >= 55296 && charCode < 56320) {
      const charCode2 = str.charCodeAt(i + 1);
      if (charCode2 !== void 0 && charCode2 >= 56320 && charCode2 < 57344) {
        i++;
      }
    }
  }
  return width;
}
export {
  visibleWidthOf
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL2Fuc2ktdGV4dC92aXNpYmxlLXdpZHRoLW9mLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMi0yMDI1IE1hdHRlci5qcyBBdXRob3JzXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogUmV0dXJucyB2aXNpYmxlIHdpZHRoIG9mIGEgc3BhY2Ugb3IgdmlzaWJsZSB0ZXh0IHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2aXNpYmxlV2lkdGhPZihzdHI6IHN0cmluZykge1xuICAgIGxldCB3aWR0aCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIC8vIFNraXAgemVybyB3aWR0aCBjaGFyYWN0ZXJzXG4gICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMHgyMDBiOiAvLyB6d3NwXG4gICAgICAgICAgICBjYXNlIDB4MjAwYzogLy8gemVybyB3aWR0aCBub24tam9pbmVyXG4gICAgICAgICAgICBjYXNlIDB4MjAwZDogLy8gemVybyB3aWR0aCBqb2luZXJcbiAgICAgICAgICAgIGNhc2UgMHgyMDYwOiAvLyB3b3JkIGpvaW5lclxuICAgICAgICAgICAgY2FzZSAweGZlZmY6IC8vIGJvbVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXh0ZW5kIHdpZHRoXG4gICAgICAgIHdpZHRoKys7XG5cbiAgICAgICAgLy8gU2tpcCBsb3cgc3Vycm9nYXRlIGlmIGl0IHByb3Blcmx5IGZvbGxvd3MgYSBoaWdoIHN1cnJvZ2F0ZVxuICAgICAgICBpZiAoY2hhckNvZGUgPj0gMHhkODAwICYmIGNoYXJDb2RlIDwgMHhkYzAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZTIgPSBzdHIuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICAgICAgICBpZiAoY2hhckNvZGUyICE9PSB1bmRlZmluZWQgJiYgY2hhckNvZGUyID49IDB4ZGMwMCAmJiBjaGFyQ29kZTIgPCAweGUwMDApIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2lkdGg7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU08sU0FBUyxlQUFlLEtBQWE7QUFDeEMsTUFBSSxRQUFRO0FBRVosV0FBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLFFBQVEsS0FBSztBQUNqQyxVQUFNLFdBQVcsSUFBSSxXQUFXLENBQUM7QUFHakMsWUFBUSxVQUFVO0FBQUEsTUFDZCxLQUFLO0FBQUE7QUFBQSxNQUNMLEtBQUs7QUFBQTtBQUFBLE1BQ0wsS0FBSztBQUFBO0FBQUEsTUFDTCxLQUFLO0FBQUE7QUFBQSxNQUNMLEtBQUs7QUFDRDtBQUFBLElBQ1I7QUFHQTtBQUdBLFFBQUksWUFBWSxTQUFVLFdBQVcsT0FBUTtBQUN6QyxZQUFNLFlBQVksSUFBSSxXQUFXLElBQUksQ0FBQztBQUN0QyxVQUFJLGNBQWMsVUFBYSxhQUFhLFNBQVUsWUFBWSxPQUFRO0FBQ3RFO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsU0FBTztBQUNYOyIsCiAgIm5hbWVzIjogW10KfQo=
